!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var o=e();for(var i in o)("object"==typeof exports?exports:t)[i]=o[i]}}(self,(function(){return(self.webpackChunkjodit_pro=self.webpackChunkjodit_pro||[]).push([[588],{58506:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=o(43854),n=o(34759),s=o(38886);i.Config.prototype.todoList={className:"todo-list",labelClassName:"todo-list__label",inputFactory:function(t){return t.createInside.element("input",{type:"checkbox",tabindex:-1})}},i.Config.prototype.controls.todoList={tooltip:"To-do List",icon:"todo-list",command:"todolist",isActive:function(t){var e=t.s.current();return Boolean(e&&s.Dom.closest(e,(function(t){return s.Dom.isElement(t)&&s.Dom.isTag(t,"ul")&&t.classList.contains("todo-list")}),t.editor))}},n.Icon.set("todo-list",o(11176))},98062:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TodoList=void 0;var i=o(70655);o(93007);var n=o(10818),s=o(11975),r=o(25916),a=o(38886),l=o(36257),p=o(70280),c=o(97029);o(58506);var u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.requires=["license"],e.buttons=[{name:"todoList",group:"list"}],e.__isOwnCommand=!1,e}return i.__extends(e,t),e.prototype.afterInit=function(t){t.registerCommand("todoList",this.onCommand)},e.prototype.onCommand=function(){try{this.__isOwnCommand=!0,this.jodit.s.commitStyle({element:"ul",attributes:{class:this.j.o.todoList.className},hooks:{afterWrapList:this.__afterWrapList,afterToggleAttribute:this.__afterWrapList}})}finally{this.__isOwnCommand=!1}return!1},e.prototype.__prependInputLabel=function(t){var e=this.jodit,o=this.j.o.todoList,i=o.labelClassName,n=o.inputFactory;if(!t.querySelector("label."+i)){var s=e.createInside.element("label",{contenteditable:"false",class:i}),r=n(e);s.appendChild(r),a.Dom.prepend(t,s)}},e.prototype.__afterToggleList=function(t,e){return t!==p.CHANGE&&t!==p.REPLACE||!this.__isOwnCommand?t===p.UNWRAP||t===p.REPLACE||t===p.CHANGE?this.__removeInputs(e):void 0:this.__appendInputs(e)},e.prototype.__appendInputs=function(t){t.querySelectorAll("li").forEach(this.__prependInputLabel)},e.prototype.__removeInputs=function(t){t.querySelectorAll("label."+this.j.o.todoList.labelClassName).forEach(a.Dom.safeRemove)},e.prototype.__beforeToggleOrderedList=function(t,e,o){var i,n="__beforeToggleOrderedList";if(t!==p.REPLACE&&(e.classList.contains(this.j.o.todoList.className)||o.isApplied(e,n))&&("ul"===o.element||"ol"===o.element)&&(null===(i=o.options.attributes)||void 0===i?void 0:i.class)!==this.j.o.todoList.className){var s=a.Dom.replace(e,o.element,this.jodit.createInside);return o.setApplied(s,n),this.__removeInputs(s),s}},e.prototype.__afterEnter=function(){(0,r.$$)("ul."+this.j.o.todoList.className+" li",this.jodit.editor).forEach(this.__prependInputLabel)},e.prototype.__afterTab=function(){(0,r.$$)("ul:not(."+this.j.o.todoList.className+") > li > label",this.jodit.editor).filter(this.isTodoLeafLabel).forEach(a.Dom.safeRemove)},e.prototype.__changeSelection=function(t){var e=this.j.s.current();this.isTodoLeafLabel(e)&&(t.preventDefault(),t.stopPropagation(),this.j.s.setCursorAfter(e))},e.prototype.__isEmptyListLeaf=function(t){var e=this;return a.Dom.isEmpty(t,(function(t){return("input"!==t.nodeName.toLowerCase()||!e.isTodoLeafLabel(t.parentElement))&&l.NO_EMPTY_TAGS.has(t.tagName.toLowerCase())}))},e.prototype.__backSpaceBeforeCases=function(t,e){if(t){var o=a.Dom.findNotEmptySibling(e,!0);this.isTodoLeafLabel(o)&&a.Dom.safeRemove(o)}},e.prototype.__isInvisibleForCursor=function(t){if(this.isTodoLeafLabel(t))return!0},e.prototype.__backSpaceAfterDelete=function(){var t=this;(0,r.$$)("label."+this.j.o.todoList.labelClassName,this.jodit.editor).forEach((function(e){e.closest("ul."+t.j.o.todoList.className)?e.previousSibling&&a.Dom.prepend(e.parentElement,e):a.Dom.safeRemove(e)}))},e.prototype.__afterWrapList=function(t,e){t===p.WRAP&&this.__appendInputs(e)},e.prototype.__onClickInput=function(t){var e=t.target;e&&a.Dom.isTag(e,"input")&&"checkbox"===e.type&&this.isTodoLeafLabel(e.parentElement)&&(0,r.attr)(e,"checked",e.checked?"checked":null)},e.prototype.isTodoLeafLabel=function(t){var e=this.j.o.todoList.labelClassName;return a.Dom.isHTMLElement(t)&&t.classList.contains(e)},e.prototype.beforeDestruct=function(t){},i.__decorate([s.autobind],e.prototype,"onCommand",null),i.__decorate([s.autobind],e.prototype,"__prependInputLabel",null),i.__decorate([(0,s.watch)(":commitStyleAfterToggleList")],e.prototype,"__afterToggleList",null),i.__decorate([(0,s.watch)(":commitStyleBeforeUnwrapList")],e.prototype,"__beforeToggleOrderedList",null),i.__decorate([(0,s.watch)(":afterEnter")],e.prototype,"__afterEnter",null),i.__decorate([(0,s.watch)(":afterTab")],e.prototype,"__afterTab",null),i.__decorate([(0,s.watch)("j.ed:selectionchange"),(0,s.watch)(":afterEnter")],e.prototype,"__changeSelection",null),i.__decorate([(0,s.watch)(":enterIsEmptyListLeaf")],e.prototype,"__isEmptyListLeaf",null),i.__decorate([(0,s.watch)(":backSpaceBeforeCases")],e.prototype,"__backSpaceBeforeCases",null),i.__decorate([(0,s.watch)(":backSpaceIsMovedIgnore"),(0,s.watch)(":isInvisibleForCursor")],e.prototype,"__isInvisibleForCursor",null),i.__decorate([(0,s.watch)(":backSpaceAfterDelete")],e.prototype,"__backSpaceAfterDelete",null),i.__decorate([s.autobind],e.prototype,"__afterWrapList",null),i.__decorate([(0,s.watch)(":click")],e.prototype,"__onClickInput",null),i.__decorate([s.autobind],e.prototype,"isTodoLeafLabel",null),e}(n.Plugin);e.TodoList=u,c.Jodit.plugins.add("todo-list",u)},11176:function(t){t.exports='<svg stroke="black" stroke-linejoin="round" stroke-linecap="round" stroke-width="28" viewBox="0 0 256 256" xmlns="http://www.w3.org/2000/svg"> \x3c!-- <rect fill="none" height="256" width="256"/>--\x3e <line fill="none" x1="130" x2="241" y1="54" y2="54"/> <line fill="none" x1="130" x2="241" y1="128" y2="128"/> <line fill="none" x1="130" x2="241" y1="202" y2="202"/> <polyline fill="none" points="92 38 57.3 70 40 54"/> <polyline fill="none" points="92 112 57.3 144 40 128"/> <polyline fill="none" points="92 186 57.3 218 40 202"/> </svg>'},93007:function(t,e,o){"use strict";o.r(e)}},function(t){return t(t.s=98062)}])}));