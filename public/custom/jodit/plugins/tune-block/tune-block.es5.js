"use strict";!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var o=t();for(var n in o)("object"==typeof exports?exports:e)[n]=o[n]}}(self,(function(){return(self.webpackChunkjodit_pro=self.webpackChunkjodit_pro||[]).push([[288],{80147:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0});var n=o(70655),i=o(43854),r=o(97039),c=o(47643),s=["tune.up","tune.remove","tune.down"],u=n.__spreadArray(["tune.h1","tune.h2","tune.h3","\n","tune.h4","tune.h5","tune.h6","\n"],n.__read(s),!1);function l(e){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50"><text dominant-baseline="text-before-edge" style="font: 45px sans-serif" x="0" y="0">'+e.toUpperCase()+"</text></svg>",isActive:function(t,o,n){var i;return(null===(i=null==n?void 0:n.target)||void 0===i?void 0:i.tagName.toLowerCase())===e},exec:function(t,o){if(o){t.selection.save();var n=r.Dom.replace(o,e,t.createInside);t.selection.restore(),t.e.fire("synchro"),t.e.fire("afterExecTune.tune",n)}return!0}}}function p(e){var t=e?"previousSibling":"nextSibling";return{icon:e?"angle-up":"angle-down",isDisabled:function(e,o,n){var i;return!(null===(i=null==n?void 0:n.target)||void 0===i?void 0:i[t])},exec:function(o,n){var i=null==n?void 0:n[t];return n&&i&&(o.selection.save(),(0,c.call)(e?r.Dom.before:r.Dom.after,i,n),o.selection.restore()),o.e.fire("synchro"),o.e.fire("afterExecTune.tune"),!0}}}i.Config.prototype.tuneBlock={popup:{p:s,table:s,img:s,blockquote:s,div:s,pre:n.__spreadArray(["tune.editPre"],n.__read(s),!1),h1:u,h2:u,h3:u,h4:u,h5:u,h6:u}},i.Config.prototype.controls.tune={h1:l("h1"),h2:l("h2"),h3:l("h3"),h4:l("h4"),h5:l("h5"),h6:l("h6"),up:p(!0),down:p(!1),editPre:{icon:"pencil",exec:function(e,t){e.e.fire("editPreInPasteCode",t)}},remove:{icon:"bin",exec:function(e,t){r.Dom.safeRemove(t),e.e.fire("synchro"),e.e.fire("closeTuner.tune"),e.e.fire("hideTuner.tune")}}}},79053:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.tuneBlock=void 0;var n=o(70655),i=o(10818),r=o(11975),c=o(97029),s=o(16430);o(80147);var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.requires=["license"],t}return n.__extends(t,e),t.prototype.afterInit=function(e){this.tuner=new s.UITuner(e)},t.prototype.hideTuner=function(){this.tuner.hide()},t.prototype.onChangeSelection=function(){this.j.s.isCollapsed()||this.hideTuner()},t.prototype.onClickInBlock=function(e){this.j.s.isCollapsed()&&this.tuner.show()},t.prototype.beforeDestruct=function(e){this.tuner.destruct()},n.__decorate([(0,r.watch)(":outsideClick :keydown")],t.prototype,"hideTuner",null),n.__decorate([(0,r.watch)("j.ed:selectionchange"),(0,r.debounce)()],t.prototype,"onChangeSelection",null),n.__decorate([(0,r.watch)(":click")],t.prototype,"onClickInBlock",null),t}(i.Plugin);t.tuneBlock=u,c.Jodit.plugins.add("tune-block",u)},16430:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.UITuner=void 0;var n=o(70655);o(33511);var i=o(98813),r=o(97039),c=o(47643),s=o(11975),u=o(30446),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isShown=!1,t.toolbar=(0,u.makeCollection)(t.j,t),t.popup=new i.Popup(t.j,!1),t}return n.__extends(t,e),t.prototype.className=function(){return"UITuner"},t.prototype.render=function(){return"<div>\n\t\t\t<div class='&__handle' title='~Click to tune~'/>\n\t\t</div>"},t.prototype.show=function(){var e=this,t=this.j.s.current();if(!t)return this.hide();var o=r.Dom.isBlock(t)?t:r.Dom.closest(t,(function(t){return Boolean(t&&e.j.o.tuneBlock.popup[t.nodeName.toLowerCase()])}),this.j.editor);if(!o||o===this.j.editor||!this.j.o.tuneBlock.popup[o.tagName.toLowerCase()])return this.hide();this.currentBlock=o,this.isShown=!0,this.closeToolbar(),this.calcPosition(),this.container.parentNode||this.j.workplace.append(this.container)},t.prototype.hide=function(){this.isShown&&(this.isShown=!1,r.Dom.safeRemove(this.container),this.closeToolbar())},t.prototype.onEditorScroll=function(){this.isShown&&this.calcPosition()},t.prototype.calcPosition=function(){var e=(0,c.css)(this.j.editor,"marginLeft"),t=(0,c.css)(this.j.editor,"paddingLeft"),o=(0,c.css)(this.j.editor,"marginTop"),n=this.currentBlock.offsetTop-this.j.editor.scrollTop+o;(0,c.css)(this.container,{transform:"translate3d(".concat(this.currentBlock.offsetWidth-15+e+t,"px, ").concat(n,"px, 0)")}),this.popup.isOpened&&this.popup.updatePosition()},t.prototype.onAfterExecTune=function(e){e&&(this.currentBlock=e),this.calcPosition(),this.openToolbar()},t.prototype.onClickPrevent=function(e){e.preventDefault(),e.stopPropagation()},t.prototype.onTargetClick=function(){this.toggleToolbar()},t.prototype.openToolbar=function(){if(this.setMod("opened",!0),this.toolbar.build(this.j.o.tuneBlock.popup[this.currentBlock.tagName.toLowerCase()],this.currentBlock),this.popup.setContent(this.toolbar.container),!this.popup.isOpened){var e=this.getElm("handle");(0,c.assert)(null!=e,"Handle element does not exist"),this.popup.open((function(){return(0,c.position)(e)}))}},t.prototype.closeToolbar=function(){this.setMod("opened",!1),this.popup.close()},t.prototype.toggleToolbar=function(){this.getMod("opened")?this.closeToolbar():this.openToolbar()},n.__decorate([(0,s.watch)(":hideTuner.tune")],t.prototype,"hide",null),n.__decorate([(0,s.watch)("j.editor:scroll"),(0,s.throttle)(10)],t.prototype,"onEditorScroll",null),n.__decorate([(0,s.watch)(":afterExecTune.tune"),(0,s.idle)()],t.prototype,"onAfterExecTune",null),n.__decorate([(0,s.watch)("container:click container:mousedown")],t.prototype,"onClickPrevent",null),n.__decorate([(0,s.watch)("handle:click")],t.prototype,"onTargetClick",null),n.__decorate([(0,s.watch)(":closeTuner.tune")],t.prototype,"closeToolbar",null),n.__decorate([s.component],t)}(i.UIElement);t.UITuner=l},33511:function(e,t,o){o.r(t)}},function(e){return e(e.s=79053)}])}));