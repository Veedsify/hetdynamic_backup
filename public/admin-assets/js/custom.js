$(document).ready((function(){function e(e){const t=e.target.files[0];if(t.size>2097152)return swal({title:"Error",text:"File size must be less than 2MB",icon:"error"}),void(e.target.value="");{const i=e.target.closest("label").querySelector("img");i&&(i.src=URL.createObjectURL(t))}}function t(t){document.querySelectorAll(t).forEach((t=>{t.addEventListener("change",e)}))}$(".add_more_content_buttons").click((function(e){const t=$("#"+$(e.target).data("container")),i=t.children().first().clone(!0);i.find("input").val(""),i.find(".ck").remove(),i.find("textarea").val("").removeAttr("data-editor"),t.append(i),ClassicEditor.create(i.find("textarea")[0]).then((e=>{e.editing.view.change((t=>{t.setStyle("min-height","300px",e.editing.view.document.getRoot())}))})).catch((e=>{}))})),$(".remove_content_buttons").click((function(e){const t=$("#"+$(e.target).data("container"));t.children().length>1&&t.children().last().remove()})),$(".active_switch").on("change",(function(e){const t=$(e.target).closest("div");if(t.find("input, select, textarea").not(":checkbox").prop("disabled",!e.target.checked),e.target.checked)t.find(".overlay").remove();else{const e=$("<div>").addClass("overlay").css({position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"rgba(255, 255, 255, 0.2)",backdropFilter:"blur(3px)",zIndex:1e3});t.prepend(e)}})),$(".active_switch").trigger("change"),$("#addNewServiceForm").on("submit",(function(e){try{const t=$(this).find("input[type=checkbox]:checked");let i=!0,n="";const r=$(this).find("input[name=title]").val().length>0,a=$(this).find("input[name=image]").prop("files").length>0,c=$(this).find("input[name=tags]").val().length>0;r&&a&&c?t.each((function(){const e=$(this).closest("div");if(e.find("[data-selected='true']").each((function(){if(!$(this).val()||"file"===$(this).attr("type")&&!$(this).prop("files").length)return i=!1,n=e.find("h1").text().trim(),!1})),!i)return!1})):(i=!1,n=` \n                ${r?"":"Title"}\n                ${a?"":"Featured Image"}\n                ${c?"":"Tags"}\n            `),i||(e.preventDefault(),swal({title:"Error!",text:`Please fill all fields in the ${n}`,icon:"error"}))}catch(e){}})),$("#editPreviousService").on("submit",(function(e){try{const t=$(this).find("input[type=checkbox]:checked");let i=!0,n="";const r=$(this).find("input[name=title]").val().length>0,a=$(this).find("input[name=tags]").val().length>0;r&&a?t.each((function(){const e=$(this).closest("div");if(e.find("[data-selected='true']").each((function(){if(0===$(this).val().length&&"file"!==$(this).attr("type"))return i=!1,n=e.find("h1").text().trim(),!1})),!i)return!1})):(i=!1,n=` \n                ${r?"":"Title"}\n                ${featured_image?"":"Featured Image"}\n                ${a?"":"Tags"}\n            `),i||(e.preventDefault(),swal({title:"Error!",text:`Please fill all fields in the ${n}`,icon:"error"}))}catch(e){}})),t("#addNewServiceForm input[type=file]"),t("#editPreviousService input[type=file]"),t("#featured_article_image"),document.querySelectorAll("input[type=file]").forEach((e=>{e.addEventListener("change",(function(e){if(e.target.files[0].size>2097152)return swal({title:"Error",text:"File size must be less than 2MB",icon:"error"}),void(e.target.value="")}))}))}));